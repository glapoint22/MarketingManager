<div style="display: flex;
flex-direction: column;
height: 100%;">
    <!-- Button bar -->
    <div class="bar">
        <!-- Edit group -->
        <div class="group">
            <div class="style-button" (click)="editBoxService.delete()" title="Delete (Del)" [ngClass]="{'style-button-disabled': !editBox.currentEditBox || !editBox.currentEditBox.isSelected}">
                <i class="fas fa-trash-alt"></i>
            </div>

            <div class="style-button" (click)="editBoxService.copy()" title="Copy (Ctrl+C)" [ngClass]="{'style-button-disabled': !editBox.currentEditBox || !editBox.currentEditBox.isSelected}">
                <i class="fas fa-copy"></i>
            </div>

            <div class="style-button" (click)="editBoxService.cut()" title="Cut (Ctrl+X)" [ngClass]="{'style-button-disabled': !editBox.currentEditBox || !editBox.currentEditBox.isSelected}">
                <i class="fas fa-cut"></i>
            </div>

            <div class="style-button" (click)="editBoxService.paste()" title="Paste (Ctrl+V)" [ngClass]="{'style-button-disabled': !editBoxService.copied.boxType}">
                <i class="fas fa-paste"></i>
            </div>
        </div>

        <!-- Other groups and styles -->
        <span *ngIf="editBox.currentEditBox && editBox.currentEditBox.isSelected">
            <div *ngFor="let group of editBox.currentEditBox.styles | groupBy" class="group">
                <div *ngIf="group.group != 'dropdown'; else dropdownGroup" style="position:relative">
                    <div *ngFor="let style of group.styles" class="style-button" (click)="style.group === 'link' || style.group === 'editBoxLink' ? showLinkForm(style) : style.onClick()"
                        [title]="style.title" [ngClass]="{'style-button-activated': style.isSelected, 'style-button-disabled': style.group !== 'editBoxColor' && style.group !== 'editBoxLink' && !editBox.currentEditBox.inEditMode}">

                        <div *ngIf="(style.group === 'color' && editBox.currentEditBox.inEditMode) || style.group === 'editBoxColor'"
                            class="color-bar" [style.backgroundColor]="style.styleValue"></div>
                        <i [class]="style.icon"></i>
                    </div>
                </div>
                <ng-template #dropdownGroup>
                    <select *ngFor="let style of group.styles" #dropdown (change)="style.onClick(dropdown.value)"
                        [title]="style.title" [value]="editBox.currentEditBox.inEditMode ? style.styleValue : ''"
                        [disabled]="!editBox.currentEditBox.inEditMode" [ngClass]="{'style-button-disabled': !editBox.currentEditBox.inEditMode}">
                        <option *ngFor="let option of style.options" [value]="option.value">{{option.name}}</option>
                    </select>
                </ng-template>
            </div>
        </span>
    </div>

    <!-- Transform properties -->
    <div *ngIf="editBox.currentEditBox && editBox.currentEditBox.isSelected" class="transform-container">
        <div style="width: 300px">

            <div class="property-title">Position</div>

            <div style="width: 100%;display: flex;">
                <div style="flex: 1; text-align: right; line-height: 24px">
                    <div class="property">Align:</div>
                </div>


                <div style="flex: 1; line-height: 24px">
                    <select #alignmentDropdown (change)="setAlignment(alignmentDropdown.value)" [value]="editBox.currentEditBox.row.alignment">
                        <option value="left">Left</option>
                        <option value="center">Center</option>
                        <option value="right">Right</option>
                    </select>
                </div>

            </div>




            <div style="width: 100%;display: flex;">
                <div style="flex: 1; text-align: right; line-height: 24px">
                    <div class="property">Y:</div>
                </div>


                <div style="flex: 1; line-height: 24px">
                    <input #y type="number" [value]="Math.round(editBox.currentEditBox.rect.y)" (change)="setY(y)"
                        (focus)="y.select()" (keyup)="setChange($event, y)">
                </div>

            </div>


            <div class="property-title">Size</div>



            <div style="width: 100%;display: flex;">
                <div style="flex: 1; text-align: right; line-height: 24px">
                    <div class="property">W:</div>
                </div>


                <div style="flex: 1; line-height: 24px">
                    <input #width type="number" [value]="Math.round(editBox.currentEditBox.rect.width)" (change)="width.oldValue = editBox.currentEditBox.rect.width; setWidth(width)"
                        (focus)="width.select()" (keyup)="setChange($event, width)">
                </div>

            </div>


            <div style="width: 100%;display: flex;">
                <div style="flex: 1; text-align: right; line-height: 24px">
                    <div class="property">H:</div>
                </div>


                <div style="flex: 1; line-height: 24px">
                    <input #height type="number" [value]="Math.round(editBox.currentEditBox.rect.height)" (change)="height.oldValue = editBox.currentEditBox.rect.height; setHeight(height)"
                        (focus)="height.select()" (keyup)="setChange($event, height)">
                </div>

            </div>






            <!-- <span class="property">Y:</span>
            <input #y type="number" [value]="Math.round(editBox.currentEditBox.rect.y)" (change)="setY(y)" (focus)="y.select()"
                (keyup)="setChange($event, y)">


            <div class="property-title">Size</div>
            <span class="property">W:</span>
            <input #width type="number" [value]="Math.round(editBox.currentEditBox.rect.width)" (change)="width.oldValue = editBox.currentEditBox.rect.width; setWidth(width)"
                (focus)="width.select()" (keyup)="setChange($event, width)">
            <br>

            <span class="property">H:</span>
            <input #height type="number" [value]="Math.round(editBox.currentEditBox.rect.height)" (change)="height.oldValue = editBox.currentEditBox.rect.height; setHeight(height)"
                (focus)="height.select()" (keyup)="setChange($event, height)"> -->
        </div>

    </div>
</div>